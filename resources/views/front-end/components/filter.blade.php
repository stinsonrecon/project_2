<div class=" w-full">
    <!-- search-menu -->
    <div class="h-14 border-b w-full flex justify-center items-center bg-white text-black text-xs 2xl:text-base">
        <div class="my-auto pl-10 w-full sm:w-1/2 lg:w-4/12 sm:pl-12 font-normal">
            <div class="w-5/6 px-1 border border-gray rounded-md flex">
                <div class="w-1/12 py-1">
                    <svg id="search-icon" class="search-icon h-4 w-4" viewBox="0 0 24 24">
                        <path
                            d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" />
                        <path d="M0 0h24v24H0z" fill="none" />
                    </svg>
                </div>
                <div class="w-11/12">
                    <input class="w-full py-1 px-2 outline-none text-black" type="text"
                        placeholder="VD: Chung cư + Hà Nội">
                    <input type="submit" hidden="true">
                </div>
            </div>
        </div>
        <div class="hidden lg:block my-auto w-8/12">
            <ul class="flex text-xs 2xl:text-base font-normal justify-between">
                <div class="flex pl-4 group relative">
                    <button class="text-center hover:text-orange-600"> Mua nhà</button>
                    <div class="my-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 my-auto" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <nav tabindex="0"
                        class="border bg-white invisible rounded w-24 absolute left-0 top-full transition-all opacity-0 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-1">
                        <ul class="py-1">
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Edit</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="flex pl-4 group relative justify-end">
                    <button class="text-center hover:text-orange-600"> Loại nhà đất</button>
                    <div class="my-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <nav tabindex="0"
                        class="border bg-white invisible rounded w-24 absolute left-0 top-full transition-all opacity-0 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-1">
                        <ul class="py-1">
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Edit</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="flex pl-4 group relative justify-end justify-end">
                    <button class="text-center hover:text-orange-600"> Khu vực</button>
                    <div class="my-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <nav tabindex="0"
                        class="border bg-white invisible rounded w-24 absolute left-0 top-full transition-all opacity-0 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-1">
                        <ul class="py-1">
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Edit</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="flex pl-4 group relative justify-end">
                    <button class="text-center hover:text-orange-600">Diện tích</button>
                    <div class="my-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <nav tabindex="0"
                        class="border bg-white invisible rounded w-24 absolute left-0 top-full transition-all opacity-0 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-1">
                        <ul class="py-1">
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Edit</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="flex pl-4 group relative justify-end">
                    <button class="text-center hover:text-orange-600">Mức giá</button>
                    <div class="my-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <nav tabindex="0"
                        class="border bg-white invisible rounded w-24 absolute left-0 top-full transition-all opacity-0 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-1">
                        <ul class="py-1">
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Edit</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div class="flex pl-4 group relative justify-end">
                    <button class="text-center hover:text-orange-600">Phòng ngủ</button>
                    <div class="my-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path fill-rule="evenodd"
                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                clip-rule="evenodd" />
                        </svg>
                    </div>
                    <nav tabindex="0"
                        class="border bg-white invisible rounded w-24 absolute left-0 top-full transition-all opacity-0 group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-1">
                        <ul class="py-1">
                            <li>
                                <a href="#" class="block px-4 py-2 hover:bg-gray-100">Edit</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </ul>
        </div>
        <div class="my-auto hidden sm:block w-1/2 lg:w-4/12 lg:ml-32 float-right font-normal">
            <ul class="flex pr-16">
                <li class="w-2/3 mt-1 border-r-2 mr-2 text-right pr-2 hover:text-orange-600">
                    <button id="modal-btn" class="btn modal-btn" onclick="openModal()">Tìm kiếm nâng cao</button>
                </li>
                <li
                    class="w-1/3 py-1 text-red-600 border border-red-600 bg-white rounded-md text-center hover:bg-orange-500">
                    Tìm kiếm
                </li>
            </ul>
        </div>
    </div>
</div>
<div id="modal-overlay" class="hidden modal-overlay z-50">
    <div id="modal-container" class="hidden modal-container mx-auto mt-20">
        <div class="w-full flex-col px-10">
            <div class="pt-5 font-bold">Tìm kiếm nâng cao</div>
            <div class="flex">
                <div class="border mt-3 w-3/5 flex">
                    <div class="w-11/12">
                        <input class="w-full py-1 px-2 text-black text-sm outline-none" type="text" placeholder="VD: Hà Nội + Quận Hai Bà Trưng">
                        <input type="submit" hidden="true">
                    </div>
                    <div class="w-1/12 bg-gray-200 mx-3 my-1">
                    </div>
                </div>
                <div class="w-1/4 pt-3 flex">
                    <div class="pl-6 pr-1 pt-1 text-red-600">x</div>
                    <div class="italic pt-2 text-gray-500 text-sm">Chọn lại</div>
                </div>
            </div>
            <div class="flex w-full text-sm mt-5">
                <div class="w-1/2 mr-2">
                    <select name="city" id="city"
                            class="placeholder:text-sm px-3 w-full outline-none shadow-md mt-1 border h-8"
                            onchange="appendCity(this)">
                        <option value="">Chọn thành phố</option>
                        @foreach($cities as $city)
                            <option value="{{ $city->matp }}">{{ $city->name }}</option>
                        @endforeach
                    </select>
                </div>
                <div class="w-1/2 ml-2">
                    <select class="mt-1 w-full text-sm outline-none shadow-md border py-1 pl-2" >
                        <option>Nhu cầu</option>
                        <option>edit</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>
                </div>
            </div>
            <div class="flex w-full text-sm mt-5">
                <div class="w-1/2 mr-2">
                    <select name="district" id="district"
                            class="placeholder:text-sm px-3 w-full outline-none shadow-md mt-1 border h-8"
                            onchange="appendDistric(this)">
                        <option value="">Chọn quận/huyện</option>
                    </select>
                </div>
                <div class="w-1/2 ml-2">
                    <select class="mt-1 w-full text-sm outline-none shadow-md border py-1 pl-2" >
                        <option>Loại bất động sản</option>
                        <option>edit</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>    
                </div>
            </div>
            <div class="flex w-full text-sm mt-5">
                <div class="w-1/2 mr-2">

                    <select name="ward" id="ward"
                            class="placeholder:text-sm px-3 w-full outline-none shadow-md mt-1 border h-8"
                            onchange="appendWard(this)">
                        <option value="">Chọn phường/xã</option>
                    </select>
                </div>
                <div class="w-1/2 ml-2">
                    <select class="mt-1 w-full text-sm outline-none shadow-md border py-1 pl-2" >
                        <option>Dự án</option>
                        <option>edit</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>
                </div>
            </div>
            <div class="border text-sm w-1/2 mt-5">
                <div class="text-white pl-2 py-1 bg-gray-400">Chi tiết</div>
                <textarea rows="3" class="w-full py-1 outline-none text-sm"></textarea>
            </div>
            <div class="flex w-full text-sm mt-5">
                <div class="w-1/2 mr-2">
                    <div>Giá (Triệu VNĐ)</div>
                    <input class="text-black mt-1 w-full text-sm outline-none border shadow-md py-1 pl-2" type="text" placeholder="Từ">
                </div>
                <div class="w-1/2 ml-2">
                    <input class="mt-6 w-full text-black text-sm outline-none shadow-md border py-1 pl-2" type="text" placeholder="Đến">
                </div>
            </div>
            <div class="flex text-sm mt-5">
                <div class="w-1/2 mr-2">
                    <div>Phòng ngủ</div>
                    <input class="w-full mt-1 text-black text-sm outline-none border shadow-md py-1 pl-2" type="text" placeholder="VD: 2">
                </div>
                <div class="w-1/2 ml-2">
                    <div>Phòng tắm</div>
                    <input class="w-full mt-1 text-black text-sm outline-none shadow-md border py-1 pl-2" type="text" placeholder="VD: 1">
                </div>
            </div>
            <div class="flex text-sm mt-5">
                <div class="w-1/2 mr-2">
                    <div>Diện tích (m2)</div>
                    <input class="w-full mt-1 text-black text-sm outline-none border shadow-md py-1 pl-2" type="text" placeholder="VD: 2">
                </div>
                <div class="w-1/2 ml-2">
                    <div>Hướng nhà</div>
                    <select class="w-full mt-1 text-black text-sm outline-none shadow-md border py-1 pl-2" >
                        <option>Tất cả các hướng</option>
                        <option>edit</option>
                    </select>
                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                    </div>
                </div>
            </div>
            <div class="mt-6 flex"> 
                <div class="w-1/3 py-1 mr-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Mặt đường</div>
                <div class="w-1/3 py-1 mr-2 ml-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Có sân</div>
                <div class="w-1/3 py-1 ml-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Bể bơi</div>
            </div>
            <div class="mt-3 flex"> 
                <div class="w-1/3 py-1 mr-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Trong ngõ</div>
                <div class="w-1/3 py-1 mr-2 ml-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Ban công</div>
                <div class="w-1/3 py-1 ml-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Gần trường học</div>
            </div>
            <div class="mt-3 flex"> 
                <div class="w-1/3 py-1 mr-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Nội thành</div>
                <div class="w-1/3 py-1 mr-2 ml-2 text-center border rounded-md hover:bg-red-500 hover:text-white">Ngoại thành</div>
                <div class="w-1/3 py-1 ml-2 text-center border rounded-md hover:bg-red-500 hover:text-white">An ninh</div>
            </div>
        </div>
        <div class="bg-gray-700 text-white tex-4xl py-2 text-center font-medium mt-4"> Tìm kiếm </div>
        <button class="close-btn" onclick="closeModal()"><i class="fas fa-times"></i></button>
    </div>
</div>
<script type="text/javascript">
    $('#city').on('change', function() {
            get_district_by_city();
        });
    function get_district_by_city(){
        var city_id = $('#city').val();
        $.post('{{route('client.getDistricts')}}',{_token:'{{ csrf_token() }}', matp:city_id}, function(data){
            $('#district').html(null);
            $('#district').append($('<option value="">Chọn quận/huyện</option>', {
            }));
            for (var i = 0; i < data.length; i++) {
                $('#district').append($('<option>', {
                    value: data[i].maqh,
                    text: data[i].name
                }));
            }
        });
    }
</script>

<script type="text/javascript">
    $('#district').on('change', function() {
            get_ward_by_district();
        });
    function get_ward_by_district(){
        var district_id = $('#district').val();
        $.post('{{route('client.getWards')}}',{_token:'{{ csrf_token() }}', maqh:district_id}, function(data){
            $('#ward').html(null);
            $('#ward').append($('<option value="">Chọn phường/xã</option>', {
            }));
            for (var i = 0; i < data.length; i++) {
                $('#ward').append($('<option>', {
                    value: data[i].xaid,
                    text: data[i].name
                }));
            }
        });
    }
</script>

<script>
    function appendCity(e) {
        document.getElementById("address").value = "";

        document.getElementById("address").value += e.options[e.selectedIndex].text;
    }

    function appendDistric(e){
        const oldVal = document.getElementById("city").options[document.getElementById("city").selectedIndex].text;

        document.getElementById("address").value = oldVal;

        document.getElementById("address").value += ", " + e.options[e.selectedIndex].text;
    }

    function appendWard(e){
        const oldVal = document.getElementById("city").options[document.getElementById("city").selectedIndex].text + ", " +
                    document.getElementById("district").options[document.getElementById("district").selectedIndex].text;

        document.getElementById("address").value = oldVal;

        document.getElementById("address").value += ", " + e.options[e.selectedIndex].text;
    }
</script>